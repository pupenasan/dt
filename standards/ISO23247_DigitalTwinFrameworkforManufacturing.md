# Digital Twin Framework for Manufacturing

https://www.ap238.org/iso23247/

Кракас для цифрових двійників для виробництва — це набір протоколів для створення та підтримки цифрових двійників . Цифрові двійники описують поточний стан продукту, процесу або ресурсу. Кожен цифровий двійник — це багатовимірна модель, яка дозволяє додаткам створювати кращі продукти швидше й ефективніше.

ISO 23247 розбиває систему цифрових двійників на рівні, визначені стандартами. На рис. 1 показано чотири рівні. Найнижчий рівень описує спостережувані виробничі елементи. Цей шар описує елементи на виробничому цеху, які потрібно змоделювати. Офіційно це не є частиною каркасу, оскільки воно вже існує. Другий рівень - це об'єкт зв'язку пристрою. Цей рівень порівнює всі зміни стану спостережуваних виробничих елементів і надсилає керуючі програми цим елементам, коли коригування стають необхідними.

![Digital Twin Framework](https://www.ap238.org/iso23247/twin1.svg)

*Figure 1 - The digital twin framework for manufacturing*

Третій рівень — це цифровий двійник. Цей рівень моделює цифрових двійників. Він зчитує дані, зібрані об’єктом зв’язку пристрою, і використовує інформацію для оновлення своїх моделей. Четвертий рівень містить сутності користувача. Це програми, які використовують цифрових двійників, щоб зробити ваше виробництво ефективнішим. Це застарілі програми, такі як ERP і PLM, і нові програми, які прискорюють роботу процесів.

Структура ISO 23247 базується на Інтернеті речей. Функціональні елементи ISO 30141 налаштовані для виробництва. Є багато функціональних утворень. У цьому вступі ми наведемо три приклади. Перший — цифрові дйники для клітини роботів. Другий — цифрові двійники для шарів обшивки літака. Третій — цифрові двійники для обробки коробки передач.

Figure 2 shows the robot manufacturing cell that was twinned in a lab at the University of Washington in Seattle. The four robots are called Kenny, Stan, Cartman and Kyle after the South Park TV show.

![Test Lab](https://www.ap238.org/iso23247/twin2.jpg)

*Малюнок 2. Лабораторія випробувань для першого випадку*

Сьогодні більшість операцій по сверлінню та насипанню виконують люди. Люди гнучкі. Однак вони також тендітні, і після десяти років напруження спини їм потрібна фізіотерапія. Замінити людину роботом нескладно, але зробити роботів такими ж гнучкими, як і людину, важко. Створення цифрового двійника полегшує роботу, оскільки у вас є моделі виробництва, які можна порівняти з моделями САПР.

Планер — це велика дорога конструкція, яку часто налаштовують для мінімізації витрат на паливо. Завод зі складання планера є величезним і складним. Багато завдань заплановано, і часто ефективніше виконати завдання, як тільки матеріали будуть доступні. Таким чином, коли крило досягає клітини, може бути багато незначних змін. Можливо, деякі отвори вже просвердлені. Інші можуть не знадобитися, і, можливо, одного з роботів забрали на технічне обслуговування. Якщо ви бачили шоу Southpark, то знаєте, що цього робота звуть Кенні.

Програміста ЧПУ можна попросити налагодити роботу, але це потребує часу, і він не в цеху. З цифровими двійниками інтелектуальне програмне забезпечення вносить корективи, а програмне забезпечення для візуалізації показує наслідки швидкого затвердження. На рис.3 показано, як чотири рівні ISO 23247 були налаштовані для створення цифрових двійників для цієї програми.

![Robot Assembly of Airframes](https://www.ap238.org/iso23247/twin3.svg)

*Figure 3 - Digital Twins for Robot Assembly of Airframes*

На рівні спостереження чотирма роботами керували за допомогою командної мови, відомої як Rapid. Коли роботи виконували ці команди, вони повідомляли про свій поточний статус за допомогою OPC/UA. Ці звіти про стан були зафіксовані в потоці даних MTConnect за допомогою Device Communication Entity.

Цифровий двійник зчитував MTConnect і використовував координатні дані, щоб розмістити кожне свердло в моделі цифрового двійника. Переміщення різака в цифровому двійника призвело до видалення матеріалу з моделі крила. Цифровий двійник процесу записував усі часи запуску та зупинки, а також швидкість і подачу процесу.

Чотири нові програми було реалізовано в User Entity.

- COA Adjustor проаналізував крило перед початком монтажних операцій. Будь-які отвори, знайдені на деталі, були видалені зі списку операцій, щоб вони не повторювалися роботами.
- Assigner збалансував навантаження між доступними роботами. Він дивився на розташування кожного робота та кожну дірку та вирішував, якого робота слід призначити для кожного завдання.
- Sequencer запланував операції сердління для кожного робота. Він переконався, що корпоративні правила одноразового складання відповідають графіку, щоб не потрібно було видаляти задирки після операцій.
- Monitor переконався, що кожен отвір було правильно просвердлено, перевіривши подачі, швидкості та час завершення.

За оцінками інженерів, нова система скоротила час виробництва на 25%.

Другий варіант використання реалізував каркас для зменшення ваги планера. Сучасна обшивка літака складається з трьох шарів. Зовнішній шар являє собою композитне волокно, загартоване в печі. Внутрішній шар - титанова структура. Середній шар - високоякісна алюмінієва фольга. Ширина цього шару регулюється для компенсації фактичної ширини композитного шару.

Якби виробничий процес був ідеальним, то товщина трьох шарів була б відома заздалегідь. Вдосконалені винищувачі повинні бути максимально швидкими, а це означає, що вони мають бути якомога легшими. Було встановлено, що вага F35 зменшується на 500 фунтів, якщо кріпильні елементи точно відповідають фактичній глибині кожного отвору. На жаль, процес вимірювання кожного отвору є трудомістким. Другий варіант використання показує, як автоматизувати вимірювання за допомогою цифрових двійників.

На рисунку 4 показано підтвердження концепції. Три стопки, що складаються з трьох шарів, вимірюються за допомогою штангенциркуля. На зображенні ширина диска була перебільшена, щоб було легше побачити різницю. У реальній системі варіації були б набагато меншими. Незважаючи на це, щоб отримати правильні вимірювання з точністю до однієї тисячної дюйма, диски повинні були бути високотехнологічними, щоб мати правильні розміри.

![Measuring Stack-up](https://www.ap238.org/iso23247/twin4.jpg)

*Figure 4 - Measuring Stack-up for the Weight Reduction Use Case*

Багато тисяч кріпильних елементів використовуються на планері, тому найменші відмінності складаються. На малюнку 5 показано, як використовувати каркас цифрового двйника для проведення вимірювань. У цій структурі об’єкт керування пристроєм використовує QIF, а об’єкт цифрового двійника – AP242. Вимірювання виконуються в одному місці та використовуються для оновлення моделі в іншому місці. Це ілюструє гнучкість використання каркасу.

Коли цей приклад розгортається, ширина шару алюмінію буде вимірюватися в усіх точках свердління. Ширина буде записана у файл QIF і надіслана на цифровий двійник. Ширина стека кожного диска буде скоригована відповідно до виміряного значення, і для цього екземпляра стека буде обчислено точну висоту. Кріпильний елемент, який точно відповідає цій висоті, потім буде «дути» до робота, який заповнює отвір.

![Weight Reduction](https://www.ap238.org/iso23247/twin5.svg)

*Figure 5 - Digital Twin Framework for Weight Reduction*

Останній варіант використання використовував каркас для програми обробки. Цей приклад показав, як зробити виробництво більш точним і ефективним, відстежуючи зміни. По суті, цифровий двійник зчитує потік MTConnect, і відзначаються розбіжності між прогнозованими й виміряними силами. Якщо ці відмінності перевищують порогове значення, створюється виняток. Якщо грань критична, тоді оператора просять виміряти грань за допомогою штангенциркуля.

Каркас цифрового двійника для цього прикладу поєднує в собі протоколи перших двох. Механічна обробка була зафіксована в потоці MTConnect, але іншим способом, оскільки було записано лише початок і кінець кожного кроку. Це значно зменшує обсяг даних, що було корисно, оскільки об’єкт зв’язку пристрою знаходився у Швеції, а об’єкт цифрового двійника – у Нью-Йорку.

Було реалізовано спеціальний сервер, який надсилає повідомлення лише тоді, коли відбуваються події під час обробки. Для кожної події він надсилав еквівалент твіту. Штангенциркуль також написав у Twitter. Твіт стався під час дотику, а координати верстата були записані в MTConnect. Рис. 6 показує, як. Цифровий двійник зчитував вимірювання та розміщував точки дотику на гранях двійника. Потім було обчислено та використано для перевірки допусків поверхню, яка найкраще підходить.

До сутності користувача додано дві програми.

- Аналізатор вимірювань відслідковував допуски на машинній обробці. Якщо допуск досягає межі, інструмент змінюється.
- Аналізатор інструментів відстежував термін служби інструменту. Якщо ресурс інструменту витрачається даремно, подачі та швидкості прискорюються, щоб краще використовувати ресурс.

Інженери підрахували, що нова система знизила витрати на виробництво на 15%.

![Measured Machining](https://www.ap238.org/iso23247/twin6.svg)

*Figure 6 - Digital Twin for Measured Machining*

Сподіваємося, вам сподобався наш короткий огляд каркасу цифрового двійника для виробництва. Щоб дізнатися більше, придбайте стандарт, який складається з чотирьох частин

- Частина 1 — Огляд
- Частина 2 — Еталонна архітектура
- Частина 3 — Приклади даних
- Частина 4 — Мережеві протоколи

Випадки використання, описані тут, описані набагато детальніше в частині 4. Цифри в цьому документі взято з ранньої версії до того, як на неї було захищено авторським правом. Придбайте стандарт, щоб отримати кращі описи з додатковими рисунками, що показують більше деталей впровадження.